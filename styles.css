:root {
  --virtual-link-opacity: 0.6;
  --settings-box-min-width: 200px;
  --settings-box-min-height: 60px;
}

.virtual-link-span {
  display: inline;
  background-color: rgba(128, 128, 128, 0.1);
  border-radius: 2px;
  padding: 0 2px;
}

.virtual-link-span,
.virtual-link-span a,
.virtual-link-default,
.virtual-link-header,
.virtual-link-span .internal-link {
  text-decoration: none !important;
  filter: brightness(var(--virtual-link-opacity));
}

.markdown-preview-view .virtual-link-span {
  background-color: rgba(128, 128, 128, 0.1);
  border-radius: 2px;
  padding: 0 2px;
}

.linker-suffix-icon {
  user-select: none;
  -webkit-user-select: none;
}

.linker-settings-text-box {
  min-width: var(--settings-box-min-width);
  min-height: var(--settings-box-min-height);
}

.virtual-link-span .multiple-files-references,
.virtual-link-span .multiple-files-indicator {
  display: none;
}

.virtual-link-span:hover .multiple-files-references {
  display: inline;
}

/* 虚拟链接基础样式 */
.virtual-link {
  display: inline;
  background-color: rgba(128, 128, 128, 0.1);
  border-radius: 2px;
  padding: 0 2px;
}

/* 加粗上下文中的虚拟链接 */
.virtual-link.cm-strong,
.cm-strong .virtual-link {
  font-weight: var(--bold-weight, bold) !important;
  background-color: rgba(128, 128, 128, 0.1) !important;
}

/* 确保虚拟链接在CodeMirror加粗中保持样式 */
.cm-strong .virtual-link-span {
  font-weight: inherit !important;
}

/* 悬停效果 */
.virtual-link:hover .multiple-files-references,
.cm-strong .virtual-link:hover .multiple-files-references {
  display: inline;
}

/* 多文件指示器 */
.virtual-link .multiple-files-references,
.virtual-link .multiple-files-indicator {
  display: none;
}

.virtual-link:hover .multiple-files-references {
  display: inline;
}

/* 处理嵌套情况 */
.cm-strong .virtual-link .virtual-link {
  font-weight: inherit !important;
}